<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head lang="en">

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>

    <link th:href="@{/webjars/bootstrap/3.3.7-1/css/bootstrap.min.css}"
          rel="stylesheet" media="screen" />

    <script type="text/javascript" src="/webjars/angularjs/1.4.1/angular.js"></script>
    <script type="text/javascript" src="/js/app.js"></script>

    <link href="/css/custom.css"
          th:href="@{css/custom.css}" rel="stylesheet" media="screen"/>
</head>
<body>
<div th:replace="fragments/head"></div>

<div class="container" ng-app="ssk-fe" ng-controller="HomeController">
    <div>
        <div class="row">
            <div class="col-md-12">
                <label>Text</label>
                <textarea class="form-control" id="data" ng-model="data" ng-keyup="show_error = false"/>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <label>Pattern</label>
                <input class="form-control" id="pattern" ng-model="pattern" ng-keyup="show_error = false" type="text"/>
            </div>
        </div>
        <div class="row">
            <div id="error-msg" class="col-md-10 alert alert-danger" ng-show="show_error">
                {{error_message}}
            </div>
        </div>
        <hr/>
        <div class="row">
            <div class="col-md-2">
                <button id="calculate" class="btn btn-primary" ng-click="calculate()">Calculate</button>
            </div>
        </div>
        <hr/>
        <div class="row">
            <div class="col-md-12">
                <table class="table table-condensed">
                    <tr><td>Word count</td><td>{{reply.wordCount}}</td></tr>
                    <tr><td>Word length</td>
                        <td>
                            <table class="table table-condensed">
                                <tr><th>Length</th><th>Occurrences</th></tr>
                                <tr ng-repeat="(key, value) in reply.wordLength">
                                    <td>{{key}}</td><td>{{value}}</td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                    <tr><td>Occurences of characters</td>
                        <td>

                            <table class="table table-condensed">
                                <tr><th>Character</th><th>Occurrences</th></tr>
                                <tr ng-repeat="(key, value) in reply.charactersNumber">
                                    <td>{{key}}</td><td>{{value}}</td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                    <tr><td>Characters from pattern</td><td>{{reply.charactersFromPattern}}</td></tr>
                    <tr><td>Words from pattern</td><td>{{reply.wordsFromPattern}}</td></tr>
                </table>
            </div>
        </div>
    </div>
</div>

</body>
</html>